# ============================================
# DENDRITE IDE - MASTER ROADMAP
# ============================================
# Reference: rdmp.dendrite
# This file tracks overall project status and links all feature specs

roadmap:
  meta:
    id: "rdmp.dendrite"
    name: "Dendrite IDE Roadmap"
    version: "0.3.0"
    description: "Master roadmap tracking all Dendrite features and eras"
    owners: ["@shupp"]
    last_updated: "2025-12-17"

  # ============================================
  # NAMING CONVENTION
  # ============================================
  conventions:
    cats_pattern: "cats.<feature>.dendrite.yaml"
    buildbook_pattern: "bldbk.<feature>.dendrite.yaml"
    reference_format:
      cats: "cats.<feature>.dendrite"
      buildbook: "bldbk.<feature>.dendrite"
    examples:
      - "cats.core.dendrite -> docs/build/cats/cats.core.dendrite.yaml"
      - "bldbk.terminalux.dendrite -> docs/build/buildbook/bldbk.terminalux.dendrite.yaml"

  # ============================================
  # VISION
  # ============================================
  vision:
    tagline: "Where learning takes root"
    core_principles:
      - "Mode-centric: 4 fullscreen modes (AGGREGATOR, PRECISION, PRODUCT, GROWTH)"
      - "Terminal-first: The terminal (AGGREGATOR) is the primary workspace"
      - "Human at the helm: AI assists, human approves"
      - "Learning through doing: Commits become lessons"
      - "Distraction-free: No sidebars, no clutter, fullscreen real estate"
      - "Keyboard-driven: Cmd+1-4 mode switching, Cmd+P for quick actions"
    
    target_workflow: |
      1. User works in AGGREGATOR mode (fullscreen terminal with OpenCode)
      2. Quick swap to PRECISION mode for code editing (Cmd+2)
      3. View progress in PRODUCT mode (Kanban board, Cmd+3)
      4. Track growth in GROWTH mode (dashboard, Cmd+4)
      5. All modes fullscreen, keyboard-driven, performative (<200ms switching)
      6. AI context syncs across all modes
      7. YAML files (CATS, BuildBook) are single source of truth

  # ============================================
  # ERA DEFINITIONS
  # ============================================
  eras:
    - id: "core"
      number: [1, 2, 3]
      name: "Learning Metrics Foundation"
      description: "WASM engine, session tracking, VS Code integration, Growth dashboard"
      cats_ref: "cats.core.dendrite"
      buildbook_ref: "bldbk.core.dendrite"
      status: "completed"
      completed_date: "2025-12-16"
      completion: 100  # All eras complete
      dependencies: []
      
    - id: "velocity"
      number: 4
      name: "Terminal Velocity"
      description: "Hyprland-inspired terminal fluidity with smooth cursor and GPU acceleration"
      cats_ref: "cats.velocity.dendrite"
      buildbook_ref: "bldbk.velocity.dendrite"
      status: "completed"
      completed_date: "2025-12-17"
      completion: 87.5  # 7/8 tasks (manual testing pending)
      dependencies: ["core"]
      
    - id: "modesystem"
      number: 5
      name: "Mode System Foundation"
      description: "Mode switcher infrastructure, Phosphor icons migration, hide legacy UI elements"
      cats_ref: "cats.modesystem.dendrite"
      buildbook_ref: "bldbk.modesystem.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["velocity"]
      
    - id: "precision"
      number: 6
      name: "PRECISION Mode (Code Editor)"
      description: "Fullscreen Monaco editor with collapsible file tree, smart filtering, distraction-free coding"
      cats_ref: "cats.precision.dendrite"
      buildbook_ref: "bldbk.precision.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["modesystem"]
      
    - id: "aggregator"
      number: 7
      name: "AGGREGATOR Mode (Terminal)"
      description: "Fullscreen terminal tab with OpenCode integration, AI chat interface, diff approval workflow"
      cats_ref: "cats.aggregator.dendrite"
      buildbook_ref: "bldbk.aggregator.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["modesystem"]
      
    - id: "product"
      number: 8
      name: "PRODUCT Mode (Project Management)"
      description: "Fullscreen Kanban GUI, CATS/BuildBook YAML integration, drag-drop cards, roadmap tracking"
      cats_ref: "cats.product.dendrite"
      buildbook_ref: "bldbk.product.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["modesystem"]
      
    - id: "aiautocomplete"
      number: 9
      name: "AI Autocomplete"
      description: "Inline AI suggestions in PRECISION mode, configurable LLM backend (Ollama default)"
      cats_ref: "cats.aiautocomplete.dendrite"
      buildbook_ref: "bldbk.aiautocomplete.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["precision"]
      
    - id: "designer"
      number: 10
      name: "DESIGNER Mode (Wireframes)"
      description: "Optional TLDraw integration for visual design and wireframing"
      cats_ref: "cats.designer.dendrite"
      buildbook_ref: "bldbk.designer.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["product"]
      
    - id: "projects"
      number: 11
      name: "Projects/Workspaces"
      description: "Multi-project management with left sidebar, project switcher, AI context per project"
      cats_ref: "cats.projects.dendrite"
      buildbook_ref: "bldbk.projects.dendrite"
      status: "not_started"
      completion: 0
      dependencies: ["modesystem", "precision"]

  # ============================================
  # STATUS DASHBOARD
  # ============================================
  status:
    overall_completion: 23  # 49 done / 212 total tasks (estimated)
    total_tasks: 212  # Updated estimate with Era 11
    tasks_done: 49  # 42 (Eras 1-3) + 7 (Era 4)
    
    by_era:
      core:
        era_1: { status: "completed", tasks_total: 8, tasks_done: 8 }
        era_2: { status: "completed", tasks_total: 7, tasks_done: 7 }
        era_3: { status: "completed", tasks_total: 27, tasks_done: 27 }
      velocity:
        era_4: { status: "completed", tasks_total: 8, tasks_done: 7 }  # Manual testing pending
      modesystem:
        era_5: { status: "not_started", tasks_total: 12, tasks_done: 0 }
      precision:
        era_6: { status: "not_started", tasks_total: 18, tasks_done: 0 }
      aggregator:
        era_7: { status: "not_started", tasks_total: 22, tasks_done: 0 }
      product:
        era_8: { status: "not_started", tasks_total: 28, tasks_done: 0 }
      aiautocomplete:
        era_9: { status: "not_started", tasks_total: 15, tasks_done: 0 }
      designer:
        era_10: { status: "not_started", tasks_total: 10, tasks_done: 0 }
      projects:
        era_11: { status: "not_started", tasks_total: 15, tasks_done: 0 }
    
    milestones:
      - name: "MVP: Learning Metrics & Terminal UX"
        target_date: "2025-Q1"
        eras: ["core", "velocity"]
        status: "completed"
        completed_date: "2025-12-17"
        
      - name: "Mode-Centric Interface Foundation"
        target_date: "2025-Q2"
        eras: ["modesystem"]
        status: "not_started"
        
      - name: "4-Mode Workspace Complete"
        target_date: "2025-Q2"
        eras: ["precision", "aggregator", "product"]
        status: "not_started"
        
      - name: "AI-Enhanced Development"
        target_date: "2025-Q3"
        eras: ["aiautocomplete"]
        status: "not_started"
        
      - name: "Design & Polish"
        target_date: "2025-Q3"
        eras: ["designer"]
        status: "not_started"
        
      - name: "Multi-Project Workflows"
        target_date: "2025-Q2"
        eras: ["projects"]
        status: "not_started"

  # ============================================
  # DEPENDENCY GRAPH
  # ============================================
  dependency_graph: |
    core (1-3) ──> velocity (4) ──> modesystem (5) ──┬──> precision (6) ──┬──> aiautocomplete (9)
                                                      │                    │
                                                      ├──> aggregator (7)  └──> projects (11)
                                                      │
                                                      └──> product (8) ──> designer (10)
    
    Legend:
    - core (1-3): Learning metrics foundation, Growth dashboard
    - velocity (4): Smooth cursor, GPU acceleration
    - modesystem (5): Mode switcher infrastructure, hide legacy UI
    - precision (6): Fullscreen code editor mode
    - aggregator (7): Fullscreen terminal mode (parallel to precision)
    - product (8): Kanban project management mode (parallel to precision/aggregator)
    - aiautocomplete (9): AI suggestions (requires precision)
    - designer (10): TLDraw wireframes (optional, requires product)
    - projects (11): Multi-project management sidebar (requires modesystem + precision)

  # ============================================
  # FILE MANIFEST
  # ============================================
  files:
    roadmap:
      - path: "docs/build/rdmp.dendrite.yaml"
        description: "This file - master roadmap"
    
    cats:
      - path: "docs/build/cats/cats.core.dendrite.yaml"
        ref: "cats.core.dendrite"
        eras: [1, 2, 3]
      - path: "docs/build/cats/cats.velocity.dendrite.yaml"
        ref: "cats.velocity.dendrite"
        eras: [4]
      - path: "docs/build/cats/cats.modesystem.dendrite.yaml"
        ref: "cats.modesystem.dendrite"
        eras: [5]
      - path: "docs/build/cats/cats.precision.dendrite.yaml"
        ref: "cats.precision.dendrite"
        eras: [6]
      - path: "docs/build/cats/cats.aggregator.dendrite.yaml"
        ref: "cats.aggregator.dendrite"
        eras: [7]
      - path: "docs/build/cats/cats.product.dendrite.yaml"
        ref: "cats.product.dendrite"
        eras: [8]
      - path: "docs/build/cats/cats.aiautocomplete.dendrite.yaml"
        ref: "cats.aiautocomplete.dendrite"
        eras: [9]
      - path: "docs/build/cats/cats.designer.dendrite.yaml"
        ref: "cats.designer.dendrite"
        eras: [10]
      - path: "docs/build/cats/cats.projects.dendrite.yaml"
        ref: "cats.projects.dendrite"
        eras: [11]
    
    buildbooks:
      - path: "docs/build/buildbook/bldbk.core.dendrite.yaml"
        ref: "bldbk.core.dendrite"
        eras: [1, 2, 3]
      - path: "docs/build/buildbook/bldbk.velocity.dendrite.yaml"
        ref: "bldbk.velocity.dendrite"
        eras: [4]
      - path: "docs/build/buildbook/bldbk.modesystem.dendrite.yaml"
        ref: "bldbk.modesystem.dendrite"
        eras: [5]
      - path: "docs/build/buildbook/bldbk.precision.dendrite.yaml"
        ref: "bldbk.precision.dendrite"
        eras: [6]
      - path: "docs/build/buildbook/bldbk.aggregator.dendrite.yaml"
        ref: "bldbk.aggregator.dendrite"
        eras: [7]
      - path: "docs/build/buildbook/bldbk.product.dendrite.yaml"
        ref: "bldbk.product.dendrite"
        eras: [8]
      - path: "docs/build/buildbook/bldbk.aiautocomplete.dendrite.yaml"
        ref: "bldbk.aiautocomplete.dendrite"
        eras: [9]
      - path: "docs/build/buildbook/bldbk.designer.dendrite.yaml"
        ref: "bldbk.designer.dendrite"
        eras: [10]
      - path: "docs/build/buildbook/bldbk.projects.dendrite.yaml"
        ref: "bldbk.projects.dendrite"
        eras: [11]
    
    deprecated:
      note: "Legacy files from original roadmap (terminalux, commitmode, workspace, marketplace) deprecated in favor of mode-centric approach"
      files:
        - path: "docs/build/cats/cats.terminalux.dendrite.yaml"
          status: "deprecated"
          replaced_by: "cats.aggregator.dendrite"
        - path: "docs/build/cats/cats.commitmode.dendrite.yaml"
          status: "deprecated"
          replaced_by: "Integrated into aggregator/precision modes"
        - path: "docs/build/cats/cats.workspace.dendrite.yaml"
          status: "deprecated"
          replaced_by: "cats.product.dendrite"
        - path: "docs/build/cats/cats.marketplace.dendrite.yaml"
          status: "deprecated"
          note: "Deferred to future era"

  # ============================================
  # LEGACY FILE MIGRATION
  # ============================================
  migration:
    note: "Migration completed 2025-12-16"
    status: "completed"
    old_files:
      - path: "docs/build/cats/dendrite-core.cats.yaml"
        migrated_to: "docs/build/cats/cats.core.dendrite.yaml"
        status: "deleted"
      - path: "docs/build/buildbook/dendrite-core.buildbook.yaml"
        migrated_to: "docs/build/buildbook/bldbk.core.dendrite.yaml"
        status: "deleted"
